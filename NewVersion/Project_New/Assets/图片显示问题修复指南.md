# ğŸ”§ å¡ç‰Œå›¾ç‰‡ä¸æ˜¾ç¤ºé—®é¢˜ - ä¿®å¤æŒ‡å—

## é—®é¢˜åŸå› 

å‘ç‰Œåå¡ç‰Œå›¾ç‰‡ä¸æ˜¾ç¤ºï¼Œé€šå¸¸æ˜¯å› ä¸º**CardVisual Prefabä¸­çš„`cardImage`å­—æ®µæœªæ­£ç¡®è®¾ç½®**ã€‚

---

## âœ… å¿«é€Ÿä¿®å¤æ­¥éª¤

### æ­¥éª¤1ï¼šæ£€æŸ¥CardVisual Prefabé…ç½®

1. åœ¨Projectçª—å£ä¸­æ‰¾åˆ°ï¼š`Assets/Prefabs/CardVisual.prefab`
2. åœ¨Hierarchyä¸­åŒå‡»æ‰“å¼€Prefabç¼–è¾‘æ¨¡å¼
3. é€‰ä¸­CardVisualæ ¹ç‰©ä½“
4. åœ¨Inspectorä¸­æ‰¾åˆ°`CardVisual`è„šæœ¬ç»„ä»¶
5. æ‰¾åˆ°`cardImage`å­—æ®µï¼ˆåœ¨Referenceséƒ¨åˆ†ï¼‰

**å…³é”®æ“ä½œï¼š**
- å¦‚æœ`cardImage`å­—æ®µä¸ºç©ºï¼ˆæ˜¾ç¤º"None (Image)"ï¼‰ï¼š
  1. åœ¨CardVisualçš„å­ç‰©ä½“ä¸­æ‰¾åˆ°æ˜¾ç¤ºå¡ç‰Œå›¾ç‰‡çš„Imageç»„ä»¶
  2. é€šå¸¸è¿™ä¸ªImageåœ¨`shakeParent â†’ tiltParent â†’ [æŸä¸ªå­ç‰©ä½“]`ä¸‹
  3. å°†è¿™ä¸ªImageç»„ä»¶æ‹–æ‹½åˆ°`cardImage`å­—æ®µä¸­

### æ­¥éª¤2ï¼šç¡®è®¤Imageç»„ä»¶ä½ç½®

CardVisualçš„å±‚çº§ç»“æ„é€šå¸¸æ˜¯ï¼š
```
CardVisual (æ ¹)
â”œâ”€â”€ visualShadow
â””â”€â”€ shakeParent
    â””â”€â”€ tiltParent
        â””â”€â”€ [è¿™é‡Œåº”è¯¥æœ‰ä¸€ä¸ªImageç»„ä»¶ç”¨äºæ˜¾ç¤ºå¡ç‰Œ]
```

**å¦‚æœæ²¡æœ‰Imageç»„ä»¶ï¼š**
1. åœ¨`tiltParent`ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„UI Imageç‰©ä½“
2. å‘½åä¸º`CardImage`
3. è®¾ç½®åˆé€‚çš„å¤§å°ï¼ˆå¦‚ï¼š200x300ï¼‰
4. å°†è¿™ä¸ªImageæ‹–æ‹½åˆ°CardVisualè„šæœ¬çš„`cardImage`å­—æ®µ

### æ­¥éª¤3ï¼šæµ‹è¯•éªŒè¯

1. ä¿å­˜Prefabï¼ˆCtrl+Sï¼‰
2. é€€å‡ºPrefabç¼–è¾‘æ¨¡å¼
3. è¿è¡Œæ¸¸æˆ
4. æŸ¥çœ‹Consoleçª—å£çš„æ—¥å¿—ï¼š
   - âœ… å¦‚æœçœ‹åˆ°ï¼š"CardVisualå›¾ç‰‡å·²æ›´æ–°: [å¡ç‰Œåç§°]" - è¯´æ˜ä¿®å¤æˆåŠŸ
   - âŒ å¦‚æœçœ‹åˆ°ï¼š"CardVisual.cardImageä¸ºç©ºï¼" - è¯´æ˜è¿˜éœ€è¦ç»§ç»­é…ç½®

---

## ğŸ” è¯¦ç»†è¯Šæ–­

è¿è¡Œæ¸¸æˆåï¼ŒæŸ¥çœ‹Consoleçª—å£çš„æ—¥å¿—ä¿¡æ¯ï¼š

### æƒ…å†µ1ï¼šçœ‹åˆ°"CardVisualä¸ºç©º"
**åŸå› ï¼š** Cardçš„cardVisualæ²¡æœ‰æ­£ç¡®å®ä¾‹åŒ–

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥Cardç»„ä»¶çš„`instantiateVisual`æ˜¯å¦å‹¾é€‰ï¼ˆåº”è¯¥å‹¾é€‰ï¼‰
2. æ£€æŸ¥Cardç»„ä»¶çš„`cardVisualPrefab`æ˜¯å¦å·²è®¾ç½®
3. æ£€æŸ¥åœºæ™¯ä¸­æ˜¯å¦æœ‰`VisualCardsHandler`ç‰©ä½“

### æƒ…å†µ2ï¼šçœ‹åˆ°"CardVisual.cardImageä¸ºç©º"
**åŸå› ï¼š** CardVisual Prefabä¸­çš„cardImageå­—æ®µæœªè®¾ç½®

**è§£å†³æ–¹æ³•ï¼š** æŒ‰ç…§"æ­¥éª¤1"æ“ä½œ

### æƒ…å†µ3ï¼šæ²¡æœ‰ä»»ä½•æ—¥å¿—
**åŸå› ï¼š** SetCardDataæ–¹æ³•æ²¡æœ‰è¢«è°ƒç”¨

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥DeckManageræ˜¯å¦æ­£ç¡®åˆå§‹åŒ–
2. æ£€æŸ¥DeckManagerçš„`allCardsDatabase`æ˜¯å¦åŒ…å«40ä¸ªCardData
3. æ£€æŸ¥HorizontalCardHolderçš„`dealOnStart`æ˜¯å¦å‹¾é€‰

---

## ğŸ¯ å®Œæ•´æ£€æŸ¥æ¸…å•

åœ¨åœºæ™¯ä¸­æ£€æŸ¥ä»¥ä¸‹é…ç½®ï¼š

### â˜ Card Prefab/ç»„ä»¶
- [ ] `instantiateVisual` å·²å‹¾é€‰
- [ ] `cardVisualPrefab` å­—æ®µå·²è®¾ç½®ï¼ˆæŒ‡å‘CardVisual Prefabï¼‰
- [ ] è¿è¡Œæ—¶Card.cardVisualä¸ä¸ºnull

### â˜ CardVisual Prefab
- [ ] æ ¹ç‰©ä½“æœ‰`CardVisual`è„šæœ¬
- [ ] `cardImage`å­—æ®µå·²è®¾ç½®ï¼ˆæŒ‡å‘ä¸€ä¸ªImageç»„ä»¶ï¼‰
- [ ] è¯¥Imageç»„ä»¶åœ¨Prefabçš„å­å±‚çº§ä¸­å­˜åœ¨
- [ ] Imageç»„ä»¶çš„RaycastTargetå¯ä»¥å–æ¶ˆå‹¾é€‰ï¼ˆé¿å…å¹²æ‰°ç‚¹å‡»ï¼‰

### â˜ DeckManager
- [ ] åœºæ™¯ä¸­æœ‰DeckManagerç‰©ä½“
- [ ] DeckManagerè„šæœ¬å·²æ·»åŠ 
- [ ] `allCardsDatabase`åŒ…å«40ä¸ªCardDataèµ„æº
- [ ] æ¯ä¸ªCardDataçš„`sprite`å­—æ®µéƒ½å·²è®¾ç½®

### â˜ HorizontalCardHolder
- [ ] `dealOnStart` å·²å‹¾é€‰
- [ ] `dealDelay` è®¾ç½®åˆç†ï¼ˆå¦‚0.1ç§’ï¼‰
- [ ] cardsåˆ—è¡¨ä¸ä¸ºç©ºï¼ˆè¿è¡Œæ—¶è‡ªåŠ¨å¡«å……ï¼‰

---

## ğŸš€ æ›¿ä»£æ–¹æ¡ˆï¼ˆå¦‚æœä¸Šè¿°æ–¹æ³•æ— æ•ˆï¼‰

å¦‚æœCardVisualçš„ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥ä½¿ç”¨Cardè‡ªèº«çš„Imageç»„ä»¶æ˜¾ç¤ºï¼š

### æ–¹æ¡ˆAï¼šä½¿ç”¨Cardçš„Imageç»„ä»¶

1. é€‰ä¸­Card Prefabæˆ–Sceneä¸­çš„Cardç‰©ä½“
2. æ‰¾åˆ°Cardç»„ä»¶çš„`cardImage`å­—æ®µ
3. æ‹–æ‹½Cardç‰©ä½“æœ¬èº«çš„Imageç»„ä»¶åˆ°è¿™ä¸ªå­—æ®µ

**æ³¨æ„ï¼š** è¿™ç§æ–¹å¼å›¾ç‰‡ä¼šæ˜¾ç¤ºåœ¨Cardç‰©ä½“ä¸Šï¼Œè€Œä¸æ˜¯CardVisualä¸Šã€‚

### æ–¹æ¡ˆBï¼šä¿®æ”¹ä»£ç è®©å›¾ç‰‡æ˜¾ç¤ºåœ¨Cardä¸Š

å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨CardVisualçš„Imageï¼Œå¯ä»¥ä¿®æ”¹Card.csï¼š

åœ¨SetCardDataæ–¹æ³•ä¸­ï¼Œå°†æ›´æ–°CardVisualå›¾ç‰‡çš„ä»£ç æ³¨é‡Šæ‰ï¼Œåªä½¿ç”¨Cardè‡ªèº«çš„Imageï¼š

```csharp
public void SetCardData(CardData data)
{
    cardData = data;
    
    // åªä½¿ç”¨Cardè‡ªèº«çš„Image
    if (imageComponent != null && data != null && data.sprite != null)
    {
        imageComponent.sprite = data.sprite;
        imageComponent.enabled = true;
        Debug.Log($"Cardå›¾ç‰‡å·²æ›´æ–°: {data.cardName}");
    }
}
```

---

## ğŸ“¸ è§†è§‰å¯¹æ¯”

**æ­£ç¡®é…ç½®åï¼š**
- å‘ç‰Œæ—¶å¡ç‰Œæ˜¾ç¤ºå¯¹åº”çš„spriteå›¾ç‰‡
- Consoleæ˜¾ç¤ºï¼š"CardVisualå›¾ç‰‡å·²æ›´æ–°: çº¢å¿ƒ1"ç­‰æ—¥å¿—
- å¡ç‰Œå¯ä»¥æ­£å¸¸é€‰ä¸­ã€æ‹–æ‹½ã€æ‰“å‡º

**é…ç½®é”™è¯¯æ—¶ï¼š**
- å‘ç‰Œæ—¶å¡ç‰Œæ˜¯ç©ºç™½çš„æˆ–æ˜¾ç¤ºé»˜è®¤å›¾ç‰‡
- Consoleæ˜¾ç¤ºï¼š"CardVisual.cardImageä¸ºç©ºï¼"
- å¡ç‰Œè™½ç„¶å­˜åœ¨ä½†çœ‹ä¸åˆ°å›¾ç‰‡

---

## ğŸ’¡ æœ€ç®€å•çš„éªŒè¯æ–¹æ³•

åœ¨Sceneè§†å›¾ä¸­ï¼š
1. è¿è¡Œæ¸¸æˆ
2. æš‚åœï¼ˆPauseæŒ‰é’®ï¼‰
3. åœ¨Hierarchyä¸­æ‰¾åˆ°ä¸€ä¸ªCardç‰©ä½“
4. å±•å¼€å®ƒçš„å­ç‰©ä½“ï¼Œæ‰¾åˆ°CardVisualå®ä¾‹
5. æŸ¥çœ‹CardVisualä¸‹çš„Imageç»„ä»¶æ˜¯å¦æœ‰sprite

å¦‚æœImageç»„ä»¶çš„spriteä¸ºç©ºï¼Œè¯´æ˜SetCardDataæ²¡æœ‰æ­£ç¡®æ‰§è¡Œã€‚
å¦‚æœImageç»„ä»¶æ²¡æœ‰spriteå­—æ®µï¼Œè¯´æ˜cardImageå¼•ç”¨é”™è¯¯ã€‚

---

## ğŸ†˜ ä»ç„¶æ— æ³•è§£å†³ï¼Ÿ

å¦‚æœæŒ‰ç…§ä»¥ä¸Šæ­¥éª¤ä»ç„¶æ— æ³•è§£å†³ï¼Œè¯·æ£€æŸ¥ï¼š

1. **CardDataèµ„æºçš„spriteæ˜¯å¦æ­£ç¡®è®¾ç½®ï¼Ÿ**
   - æ‰“å¼€ä»»æ„ä¸€ä¸ªCardDataèµ„æº
   - æ£€æŸ¥spriteå­—æ®µæ˜¯å¦æœ‰å›¾ç‰‡

2. **è¿è¡Œæ—¶Consoleçš„å®Œæ•´æ—¥å¿—**
   - å‘ç‰Œæ—¶åº”è¯¥æœ‰"æŠ½åˆ°å¡ç‰Œ: XXX"çš„æ—¥å¿—
   - å‘ç‰Œæ—¶åº”è¯¥æœ‰"å¡ç‰Œæ•°æ®å·²è®¾ç½®: XXX"çš„æ—¥å¿—
   - å‘ç‰Œæ—¶åº”è¯¥æœ‰"CardVisualå›¾ç‰‡å·²æ›´æ–°: XXX"çš„æ—¥å¿—

3. **ç¡®è®¤CardVisualå®ä¾‹è¢«æ­£ç¡®åˆ›å»º**
   - è¿è¡Œæ¸¸æˆååœ¨Hierarchyä¸­æœç´¢"CardVisual"
   - åº”è¯¥èƒ½æ‰¾åˆ°7ä¸ªCardVisualå®ä¾‹ï¼ˆå¯¹åº”7å¼ æ‰‹ç‰Œï¼‰

å¦‚æœä»¥ä¸Šéƒ½æ£€æŸ¥è¿‡äº†ï¼Œå¯èƒ½éœ€è¦é‡æ–°åˆ›å»ºCardVisual Prefabã€‚

---

## âœ… ä¿®å¤æˆåŠŸçš„æ ‡å¿—

- âœ… Consoleæ˜¾ç¤ºï¼š"CardVisualå›¾ç‰‡å·²æ›´æ–°: [å¡ç‰Œåç§°]"
- âœ… æ‰‹ç‰ŒåŒºåŸŸæ˜¾ç¤º7å¼ ä¸åŒçš„å¡ç‰Œå›¾ç‰‡
- âœ… å¡ç‰Œå¯ä»¥æ­£å¸¸é€‰ä¸­ã€æ‹–æ‹½ã€æ‰“å‡º
- âœ… æ²¡æœ‰æŠ¥é”™ä¿¡æ¯

å¦‚æœçœ‹åˆ°ä»¥ä¸Šæ ‡å¿—ï¼Œè¯´æ˜é—®é¢˜å·²ç»è§£å†³ï¼
